<h2>Modifiers</h2>

<p>
    <em>Modifiers</em> refers to a family of classes which are employed by an emitter to modify the declarations prior to the output
    being emitted.
</p>

<p>
    Each type of modifier is implemented at a different stage of the emitter pipeline. Consequently, a different form of the declarations is
    made available to each type of modifier.
</p>

<img src="documentation/img/core-2.gif" alt="Emitters can be thought of as a pipeline through which declarations are passed" class="center-block gutter-bottom" />

<p class="small text-center">
    The above image shows that each type of emitter runs at a different stage in the emitting process and is passed the output of the previous stage.
</p>

<h3 id="processing-declarations">Processing Declarations</h3>

<p>
    The emitter pipeline offers four opportunities to modify the client-side form of the emitter-specific collection of declarations:
</p>

<ul>
    <li>
        <h4><abbr title="SuperScript.Modifiers.Pre.CollectionPreModifier"><code>CollectionPreModifier</code></abbr></h4>
        <p>
            The first stage in the emitter pipeline is passed the raw, currently-unmodified collection of <abbr title="SuperScript.Declarables.DeclarationBase"><code>DeclarationBase</code></abbr> objects,
            and returns a collection of <abbr title="SuperScript.Declarables.DeclarationBase"><code>DeclarationBase</code></abbr> objects.
        </p>
        <p>
            Read about the <abbr title="SuperScript.Modifiers.Pre.CollectionPreModifier"><code>CollectionPreModifier</code></abbr> <a href="#!/modifiers.collection-pre-modifier">here</a>.
        </p>
        <p>
            <a href="https://github.com/Supertext/SuperScript.Common/blob/master/Modifiers/Pre/CollectionPreModifier.cs" target="_blank">View this class on GitHub</a>
        </p>
    </li>
    <li>
        <h4><abbr title="SuperScript.Modifiers.Converters.CollectionConverter"><code>CollectionConverter</code></abbr></h4>
        <p>
            The second stage in the emitter pipeline takes the output from the first stage, a collection of <abbr title="SuperScript.Declarables.DeclarationBase"><code>DeclarationBase</code></abbr> objects,
            and uses the internal logic of the specific implementation of <abbr title="SuperScript.Declarables.DeclarationBase"><code>DeclarationBase</code></abbr> to
            convert this server-side object into its client-side form.
        </p>
        <p>
            The output of this stage is a string consisting of the concatenated output from all instances of <abbr title="SuperScript.Declarables.DeclarationBase"><code>DeclarationBase</code></abbr>
            passed to this emitter.
        </p>
        <p>
            Read about the <abbr title="SuperScript.Modifiers.Converters.CollectionConverter"><code>CollectionConverter</code></abbr> <a href="#!/modifiers.collection-converter">here</a>.
        </p>
        <p>
            <a href="https://github.com/Supertext/SuperScript.Common/blob/master/Modifiers/Converters/CollectionConverter.cs" target="_blank">View this class on GitHub</a>
        </p>
    </li>
    <li>
        <h4><abbr title="SuperScript.Modifiers.Post.CollectionPostModifier"><code>CollectionPostModifier</code></abbr></h4>
        <p>
            The next stage in the emitter pipeline takes the output from the second stage and offers the opportunity to modify the client-side form of the declarations
            passed to this emitter.
        </p>
        <p>
            An example of the advantage which this stage offers is the possibility to minify JavaScript or to pre-compile HTML templates.
        </p>
        <p>
            Read about the <abbr title="SuperScript.Modifiers.Post.CollectionPostModifier"><code>CollectionPostModifier</code></abbr> <a href="â‚¬!/modifiers/collection-post-modifier">here</a>.
        </p>
        <p>
            <a href="https://github.com/Supertext/SuperScript.Common/blob/master/Modifiers/Post/CollectionPostModifier.cs" target="_blank">View this class on GitHub</a>
        </p>
    </li>
</ul>

<p>
    The final step implemented by an emitter uses an instance of an <abbr title="SuperScript.Modifiers.Writers.HtmlWriter"><code>HtmlWriter</code></abbr> to write
    the output to the webpage. In actuality, this still offers the opportunity to modify the output.
</p>

<ul>
    <li>
        <h4><abbr title="SuperScript.Modifiers.Writers.HtmlWriter"><code>HtmlWriter</code></abbr></h4>
        <p>
            The <abbr title="SuperScript.Modifiers.Writers.HtmlWriter"><code>HtmlWriter</code></abbr> is passed a string and returns an
            <abbr title="System.Web.IHtmlString"><code>IHtmlString</code></abbr>.
        </p>
        <p>
            However, this stage offers the opportunity to write the passed string to one location and write out something entirely different to the emitting
            location.
        </p>
        <p>
            For example, this stage could write the passed string to the local file system as a <em>*.js</em> file, then write a <code>&lt;script src="&hellip;"&gt;</code>
            tag to the webpage which references the created <em>*.js</em> file.
        </p>
        <p>
            Read about the <abbr title="SuperScript.Modifiers.Writers.HtmlWriter"><code>HtmlWriter</code></abbr> <a href="html-writer.html">here</a>.
        </p>
        <p>
            <a href="https://github.com/Supertext/SuperScript.Common/blob/master/Modifiers/Writers/HtmlWriter.cs" target="_blank">View this class on GitHub</a>
        </p>
    </li>
</ul>



<h2>What Next?</h2>

<p>
    Read about pre-conversion modifiers <a href="#!/modifiers.collection-pre-modifier">here</a>.
</p>

<p>
    Read about collection converters <a href="#!/modifiers.collection-converter">here</a>.
</p>

<p>
    Read about post-conversion modifiers <a href="#!/modifiers.collection-post-modifier">here</a>.
</p>

<p>
    Read about HTML writers <a href="#!/modifiers.html-writer">here</a>.
</p>
